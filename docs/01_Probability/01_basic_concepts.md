# 第一章：概率论的基本概念 (Basic Concepts)

> **核心摘要**：本章我们将从零构建概率论的语言体系。我们将不再满足于高中阶段“抛硬币算次数”的直观理解，而是引入**集合论**和**测度论**的工具，严格定义什么叫“随机”，什么叫“事件”，以及它们之间如何运算。这套语言是后续所有统计推断和随机过程的基石。

## 1.1 样本空间与随机事件

### 1.1.1 随机现象：从确定性到不确定性

在物理学的经典力学时代，人们认为只要知道了初始状态和运动方程，未来的世界就是确定的，这叫做**确定性现象**（Deterministic Phenomena）。但在金融市场、微观粒子运动或者生物遗传中，我们发现即便在基本条件完全相同的情况下，每次试验的结果依然可能不同。这种在个别试验中呈现不确定性，但在大量重复试验中又呈现出统计规律性的现象，就是我们研究的对象——**随机现象**（Random Phenomena）。

为了研究这种现象，我们需要对它进行观测，这就引入了**随机试验**（Random Experiment，通常记为 $E$）的概念。在我看来，一个严格的随机试验必须同时满足三个特点：第一，它是**可重复**的，我们可以在相同条件下重复进行；第二，它是**可预知**的，虽然不知道下一次具体出什么，但我们知道所有可能的结果范围；第三，它是**随机**的，每次试验前的结果都无法准确预测。

举个例子，我们在量化交易中测试一个动量策略，虽然我不知道下一笔交易是赚是赔，但我知道结果无非是“盈利”、“亏损”或“持平”，且长期来看它有一个胜率，这就是典型的随机试验。

### 1.1.2 样本空间：上帝的视角

当我们把随机试验的所有可能结果都罗列出来，汇聚成一个集合，这个集合就叫做**样本空间**（Sample Space），通常用希腊字母 $\Omega$ 表示。 $\Omega$ 中的每一个最基本的元素 $\omega$ 被称为**样本点**。

在这里我们需要引入一点测度论的视角。**随机事件**（Random Event）并不是样本点本身，而是样本空间的**子集**。
* **基本事件**：只包含一个样本点的子集，例如 $\{\omega\}$。
* **必然事件**：包含了所有样本点的集合，即 $\Omega$ 本身。因为每次试验结果必然在 $\Omega$ 中，所以它发生的概率是 1。
* **不可能事件**：不包含任何样本点的集合，即空集 $\varnothing$。它发生的概率是 0。

我特别想强调的是，样本空间 $\Omega$ 的构造是主观的，取决于我们关心的“分辨率”。比如研究股票，如果我们只关心涨跌，那么 $\Omega = \{涨, 跌\}$；如果我们关心具体价格，那么 $\Omega$ 就是全体正实数 $\mathbb{R}^+$。

### 1.1.3 事件的关系与运算规律

既然事件是样本空间 $\Omega$ 的子集，那么讨论事件的关系，本质上就是在讨论集合论（Set Theory）。我们假设 $\Omega$ 已经给定，用 $A, B, C$ 等大写字母表示一系列事件。

**包含关系 ($A \subset B$)**
如果事件 $A$ 发生，必然导致事件 $B$ 发生，我们就说 $A$ 包含于 $B$。从集合角度看，就是 $A$ 的所有样本点都在 $B$ 里面。比如在期权里，“行权价高于 100” 这个事件发生，必然意味着 “行权价高于 90” 这个事件发生。

**并运算 ($A \cup B$)**
这代表“至少有一个发生”。对于无穷多个事件 $A_1, A_2, ...$ 的并 $\bigcup_{n=1}^{\infty} A_n$，它表示这无穷多个事件中，只要有一个发生，整体就发生。

**交运算 ($A \cap B$ 或 $AB$)**
这代表“同时发生”。同样，对于无穷多个事件的交 $\bigcap_{n=1}^{\infty} A_n$，意味着这无穷多个事件必须全部同时发生。

**差运算 ($A - B$)**
这表示 $A$ 发生且 $B$ 不发生。在集合上，就是从 $A$ 中挖去属于 $B$ 的那部分。

**互斥与对立 (关键考点)**
这是最容易混淆的概念。
* **互斥 (Mutually Exclusive)**：指 $A$ 和 $B$ 不能同时发生，即 $A \cap B = \varnothing$。比如“涨”和“跌”就是互斥的。
* **对立 (Complementary)**：也叫逆事件，记为 $\bar{A}$ 或 $A^c$。它不仅要求 $A$ 和 $B$ 互斥，还要求它们加起来等于全集，即 $A \cup B = \Omega$ 且 $A \cap B = \varnothing$。
* **结论**：对立事件一定互斥，但互斥事件不一定对立。比如掷骰子，“出1”和“出2”是互斥的，但它们不是对立的（因为还有3,4,5,6）。

**运算律**
事件的运算完全遵循集合论的定律，包括交换律、结合律和分配律。其中最有用的是**德·摩根律 (De Morgan's Laws)**，它在计算复杂概率（特别是“至少”或“都不”类问题）时是神器：
$$
\overline{A \cup B} = \bar{A} \cap \bar{B} \quad (\text{两者都不发生 = 至少一个发生的对立})
$$
$$
\overline{A \cap B} = \bar{A} \cup \bar{B} \quad (\text{至少一个不发生 = 两者同时发生的对立})
$$
这个定律可以推广到可列无穷多个事件的情况，形式完全一致。

### 1.1.4 事件域：赋予集合以“长度”

在有限样本空间中，我们可以对任意子集定义概率。但在连续样本空间（比如实数轴）中，情况变得复杂了。我们需要构建一个**事件域**（Field of Events）。

**(1) $\sigma$-代数与可测空间**
如果 $\Omega$ 的子集族 $\mathcal{F}$ 满足三个条件：全集 $\Omega \in \mathcal{F}$；对补集运算封闭；对可列并运算封闭。那么我们就称 $\mathcal{F}$ 是一个 **$\sigma$-代数**（Sigma-Algebra）。
此时，配对 $(\Omega, \mathcal{F})$ 被称为**可测空间**。$\mathcal{F}$ 中的元素被称为**可测集**，也就是我们有资格谈论其概率的“事件”。

在实数轴上，最常用的事件域是**博雷尔 $\sigma$-代数**（Borel $\sigma$-algebra），记为 $\mathcal{B}$。它是由所有开区间 $(a, b)$ 生成的最小 $\sigma$-代数。这意味着，只要我们能度量开区间的长度，我们就能度量实轴上几乎所有奇怪集合的长度。

**(2) 样本空间的分割 (Partition)**
这是一个在全概率公式中会用到的重要概念。如果一组事件 $B_1, B_2, ...$ 满足两个条件：第一，它们两两互斥（$B_i B_j = \varnothing, i \ne j$）；第二，它们的并集是全集（$\bigcup B_i = \Omega$）。那么这组事件就构成了样本空间的一个**分割**（也叫完备事件组）。
直观来说，就像切蛋糕一样，把 $\Omega$ 切成了若干块，一块也不少，一块也不重叠。

### 1.1.5 事件的独立性

独立性是概率论区别于测度论的独特灵魂。

**(1) 两个事件的独立性**
定义非常简洁：如果 $P(AB) = P(A)P(B)$，则称事件 $A$ 与 $B$ 相互独立。
现实意义是，事件 $A$ 的发生与否，不会改变事件 $B$ 发生的概率（即 $P(B|A) = P(B)$）。在金融中，我们常假设今天的股价收益率与昨天的收益率是独立的（虽然这通常是弱式有效市场假说）。

**(2) 多个事件的独立性 (高频坑点)**
对于三个事件 $A, B, C$，要称它们**相互独立**，必须同时满足四个条件：
1.  $P(AB) = P(A)P(B)$
2.  $P(AC) = P(A)P(C)$
3.  $P(BC) = P(B)P(C)$
4.  $P(ABC) = P(A)P(B)P(C)$

前三个条件叫**两两独立**。
**请注意**：两两独立**推不出**相互独立。有可能 $A, B$ 独立，$B, C$ 独立，$A, C$ 独立，但 $A$ 和 $B$ 同时发生这就完全决定了 $C$ 的结果（导致不满足第4条）。